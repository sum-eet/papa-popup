
> dev
> shopify app dev

╭─ info ───────────────────────────────────────────────────────────────────────╮
│                                                                              │
│  Using shopify.app.toml for default values:                                  │
│                                                                              │
│    • Org:             MyStore                                                │
│    • App:             papa-popup                                             │
│    • Dev store:       testingstoresumeet.myshopify.com                       │
│    • Update URLs:     No                                                     │
│                                                                              │
│   You can pass `--reset` to your command to reset your app configuration.    │
│                                                                              │
╰──────────────────────────────────────────────────────────────────────────────╯

Running pre-dev command: "npx prisma generate"GraphiQL server started on port 3457Proxy server started on port 54708 Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "postgres", schema "public" at "db.cbriyzlistzfuodhcqjo.supabase.co:5432"

4 migrations found in prisma/migrations


No pending migrations to apply.
  ➜  Local:   http://localhost:54713/
  ➜  Network: use --host to expose
[shopify-api/INFO] version 11.13.0, environment Remix
[Session Create] Looking for shop: testingstoresumeet.myshopify.com
[Session Create] Shop found: Yes
[Session Create] Looking for popup: sample-quiz-skincare-001 in shop: d65aec65-c8dc-4cea-9505-0df2508b8870
[Session Create] Popup found: Yes
[Session Create] Creating session with data: {
  shopId: 'd65aec65-c8dc-4cea-9505-0df2508b8870',
  popupId: 'sample-quiz-skincare-001',
  totalSteps: 3
}
[Session Create] Error: PrismaClientValidationError: 
Invalid `prisma.customerSession.create()` invocation:

{
  data: {
    sessionToken: "1a78d9436450b527246082e67ec7af1c71b5b35d7dd0cafee453448b9d044bcd",
    shopId: "d65aec65-c8dc-4cea-9505-0df2508b8870",
    popupId: "sample-quiz-skincare-001",
    currentStep: 1,
    totalSteps: 3,
    ~~~~~~~~~~
    responses: "{}",
    ipAddress: "unknown",
    userAgent: "NodeJS Test Client",
    pageUrl: "https://quickstart-6dddaee8.myshopify.com/products/sample-quiz",
    expiresAt: new Date("2025-07-25T06:50:37.078Z"),
?   id?: String,
?   stepsViewed?: Int,
?   stepsCompleted?: Int,
?   emailProvided?: Boolean,
?   discountCode?: String | Null,
?   discountAmount?: String | Null,
?   createdAt?: DateTime,
?   completedAt?: DateTime | Null,
?   collectedEmails?: CollectedEmailUncheckedCreateNestedManyWithoutCustomerSessionInput
  }
}

Unknown argument `totalSteps`. Available options are marked with ?.
    at throwValidationException (/Users/sumeetkarwa/Documents/Code/papa-popup/papa-popup/node_modules/@prisma/client/src/runtime/core/errorRendering/throwValidationException.ts:45:9)
    at ri.handleRequestError (/Users/sumeetkarwa/Documents/Code/papa-popup/papa-popup/node_modules/@prisma/client/src/runtime/RequestHandler.ts:202:7)
    at ri.handleAndLogRequestError (/Users/sumeetkarwa/Documents/Code/papa-popup/papa-popup/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)
    at ri.request (/Users/sumeetkarwa/Documents/Code/papa-popup/papa-popup/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)
    at l (/Users/sumeetkarwa/Documents/Code/papa-popup/papa-popup/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:862:24)
    at action (/Users/sumeetkarwa/Documents/Code/papa-popup/papa-popup/app/routes/api.session.create.tsx:85:29)
    at Object.callRouteAction (/Users/sumeetkarwa/Documents/Code/papa-popup/papa-popup/node_modules/@remix-run/server-runtime/dist/data.js:36:16)
    at /Users/sumeetkarwa/Documents/Code/papa-popup/papa-popup/node_modules/@remix-run/router/router.ts:4934:19
    at callLoaderOrAction (/Users/sumeetkarwa/Documents/Code/papa-popup/papa-popup/node_modules/@remix-run/router/router.ts:4998:16)
    at async Promise.all (index 0) {
  clientVersion: '6.12.0'
}
12:20:57 PM [vite] (ssr) page reload app/routes/api.session.create.tsx
12:21:01 PM [vite] (ssr) page reload app/routes/api.session.create.tsx
[Session Create] Looking for shop: testingstoresumeet.myshopify.com
[Session Create] Shop found: Yes
[Session Create] Looking for popup: sample-quiz-skincare-001 in shop: d65aec65-c8dc-4cea-9505-0df2508b8870
[Session Create] Popup found: Yes
[Session Create] Creating session with data: {
  shopId: 'd65aec65-c8dc-4cea-9505-0df2508b8870',
  popupId: 'sample-quiz-skincare-001',
  totalSteps: 3
}
[Session Create] Created session b8b94c6e64ea9a5fd2a6b95947eedb0ac6177b3b7fa2d2c1bdb76784bb3cf9b9 for popup sample-quiz-skincare-001 on shop testingstoresumeet.myshopify.com
12:21:20 PM [vite] (ssr) page reload app/routes/api.session.validate.tsx
12:21:26 PM [vite] (ssr) page reload app/routes/api.session.progress.tsx
[Session Create] Looking for shop: testingstoresumeet.myshopify.com
[Session Create] Shop found: Yes
[Session Create] Looking for popup: sample-quiz-skincare-001 in shop: d65aec65-c8dc-4cea-9505-0df2508b8870
[Session Create] Popup found: Yes
[Session Create] Creating session with data: {
  shopId: 'd65aec65-c8dc-4cea-9505-0df2508b8870',
  popupId: 'sample-quiz-skincare-001',
  totalSteps: 3
}
[Session Create] Created session 1b88623ed12f638b9b2c355f0e87f0858902dd33646bcf746b812d74a1f9da91 for popup sample-quiz-skincare-001 on shop testingstoresumeet.myshopify.com
[Session Validate] Valid session 1b88623ed12f638b9b2c355f0e87f0858902dd33646bcf746b812d74a1f9da91 for popup sample-quiz-skincare-001
12:24:43 PM [vite] (ssr) page reload app/routes/api.session.create.tsx
12:24:50 PM [vite] (ssr) page reload app/routes/api.session.create.tsx
1:19:53 PM [vite] .env changed, restarting server...
1:19:54 PM [vite] server restarted.
